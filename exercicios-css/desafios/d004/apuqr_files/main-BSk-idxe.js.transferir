const __vite__fileDeps=["render-common-9Z0Z-VGGXuVn.js","common-DDyTlAGiMQQJ.js","router-DIypPVuzfSk0.js","app~shared~utilities~admin-context~graphql-BC_6HwQQeEJL.js","app~shared~utilities~admin-context~metrics-DvWIpQX3wsfj.js","assets/render-common-ga8eZz0G-WXE.css","app~shared~utilities~admin-context~atlas-D3Dx6oJ67teN.js","app~shared~utilities~admin-context~newReportify-BWsYVPcXpJBG.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var cn=Object.defineProperty;var ln=(o,s,u)=>s in o?cn(o,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[s]=u;var St=(o,s,u)=>(ln(o,typeof s!="symbol"?s+"":s,u),u);import{$ as qe,a0 as fn,a1 as dn,a as U,a2 as j,a3 as Y,a4 as pn,a5 as hn,a6 as wt,a7 as gn,a8 as vn,H as Rt,n as Ot,a9 as Me,aa as mn,ab as _n,ac as ae,b as yn,G as bn,g as En,ad as Dt,l as It,S as Nt,k as Sn,c as wn,_ as G,f as Rn,ae as Bt,af as On,j as Nn,ag as Ct,ah as qt,ai as Mt,aj as Lt,ak as Cn,al as Ln,am as Tn,an as An,ao as Pn,ap as xn,aq as kn,ar as $n,as as Dn,at as Tt,au as In,av as Bn,aw as qn,ax as Mn}from"../common-DDyTlAGiMQQJ.js";const Fn=console.error.bind(console),jn=console.warn.bind(console),Ft=[/this component is not accepted by Hot Loader/,/Report not sent due to releaseStage/];console.error=(...o)=>{const[s,u]=o;typeof s=="string"&&Ft.some(l=>l.test(s))||typeof s=="string"&&/React does not recognize/.test(s)&&u==="testID"||Fn(...o)};console.warn=(...o)=>{const[s]=o;typeof s=="string"&&Ft.some(u=>u.test(s))||jn(...o)};if(typeof Node=="function"&&Node.prototype){const o=Node.prototype.removeChild;Node.prototype.removeChild=function(u){return u.parentNode!==this?u:o.apply(this,Array.from(arguments))};const s=Node.prototype.insertBefore;Node.prototype.insertBefore=function(u,l){return l&&l.parentNode!==this?u:s.apply(this,Array.from(arguments))}}const At="https://web-sourcemaps.shopify.io/";(async()=>{if(qe().isShopifyStaff)try{if(!(await fetch(At,{credentials:"include"})).ok)throw new Error("not authenticated with source map service")}catch{console.log("%cShopify Developers","font-size: 16px; font-weight: bold; color: #96bf48;"),console.log(["To debug in production, please authenticate with the source map service",`%cAuth: ${At}`,"Docs: https://github.com/Shopify/web-sourcemaps/blob/main/README.md"].join(`

`),"font-weight: bold;")}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function u(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=u(d);fetch(d.href,f)}})();function jt(o,s=""){const u=new Map;return o.forEach(l=>{let d;l.path?s?d=`${s}/${l.path}`.replace("/*",""):d=l.path.replace("/*",""):d=s;const f=d.replace("*",""),h=f.startsWith("store")?f.replace("store/:storeHandle/",""):f.replace("admin/",""),_=h.startsWith("/")?h.slice(1):h;l.id&&u.set(l.id,{path:_}),l.children&&jt(l.children,d).forEach((E,O)=>{u.set(O,E)})}),u}function Un(o,s,u={}){var l;if(s&&((l=s.startsWith)!=null&&l.call(s,"route:"))){const d=s.split("route:")[1],f=o.get(d);if(f){const{path:h}=f;return`${fn()}/${dn(h,u)}`}}return s}function Hn(o){const s=jt(o);return(u,l={})=>Un(s,u,l)}const Vn=U((o,s)=>{const u=s(o),l=j(u.state.location),d=Hn(u.routes);function f(w){return w?w.pathname+w.search+w.hash:""}let h=l.peek();const _=Y(()=>{const w=h;if(f(l.value)!==f(h))return h=l.value,w}),b=new Map;let E=null,O=null;return o.registerCleanup(u.subscribe(w=>{w.navigation.state==="idle"&&(l.value=w.location);const N=Array.from(w.fetchers.entries()).filter(([P,x])=>x.state==="loading"&&x.formMethod==="get").map(([P])=>P);E=N.find(P=>!(O!=null&&O.includes(P)))??null,O=N})),Object.defineProperties(u,Object.getOwnPropertyDescriptors({get previousRoute(){return _.value},get activeFetcher(){return E},toRoute:d,markLoaderTiming:(w,N)=>{b.set(w,N)},getLoaderTimings:()=>{const w=[];return u.state.matches.forEach(({route:N})=>{b.has(N.id)&&w.push({route:N,timing:b.get(N.id)})}),w}})),pn(o,u),u});class Gn extends gn{lifecycleEvent(s){if(s.type!==vn.TimeToLastByte)return super.lifecycleEvent(s)}}const Kn=U(({router:o,registerCleanup:s})=>new Gn(l=>{let d=location.pathname;s(o.subscribe(f=>{f.navigation.state==="loading"&&d!==f.navigation.location.pathname&&(d=f.navigation.location.pathname,l.start({target:d}))})),l.on("navigation",f=>{if(f.result!==hn.Finished)return;const h=Math.max(0,window.performance.now()-f.timeToComplete);wt("navigation_usable",{start:h,duration:f.timeToUsable}),wt("navigation_complete",{start:h,duration:f.timeToComplete})})})),Qn=U(()=>{const o=j([]);let s=0;return{get list(){return o.value},show(u){u.id=String(++s),o.value=o.value.concat(u)},hide(u){u?o.value=o.value.filter(l=>u.id!==l.id):o.value=[]}}}),Jn=o=>{var l,d;const s=typeof o=="string"?o:(l=o.loc)==null?void 0:l.source.body;if(!s)throw Error("Pre-parsed GraphQL query must include .loc.source.body");let u;if(typeof o!="string"){const f=o.definitions.find(h=>h.kind==="OperationDefinition");f&&"name"in f&&(u=(d=f==null?void 0:f.name)==null?void 0:d.value)}return{query:s,operationName:u}};function zn({uri:o,credentials:s,headers:u},l=globalThis.fetch){return async(d,f)=>{const h=new Headers({[Rt.ContentType]:"application/json",[Rt.Accept]:"application/json",...u}),_=Jn(d.document),b=await Xn({fetch:l,method:"POST",fetchOptions:{uri:o,credentials:s,headers:h},request:{..._,document:d.document,variables:d.variables},middleware:f==null?void 0:f.request});if(f!=null&&f.response&&(f==null||f.response(b)),b instanceof Error)throw b;return b}}async function Xn(o){const{fetch:s}=o;let u=new URL(o.fetchOptions.uri);const{document:l,...d}=o.request,f={method:(o.method??"post").toUpperCase(),headers:o.headers,body:JSON.stringify(d),...o.fetchOptions};let h=f;if(o.middleware){const w=await Promise.resolve(o.middleware({...f,url:o.fetchOptions.uri,operationName:o.request.operationName,variables:o.request.variables})),{url:N,...P}=w;u=new URL(N),h=P}o.request.operationName&&u.searchParams.set("operation",o.request.operationName),h.credentials||delete h.credentials;const _=Ot(),b=await s(u.toString(),h),E=Ot(),O=E-_,T={stats:{start:_,end:E,duration:O},request:o.request};return!b||!b.ok?new Me(b,await b.text(),T):Wn(b,T)}async function Wn(o,s){let u;try{u=await o.json()}catch{return new mn("Invalid JSON response from GraphQL server",o,"",s)}try{if(typeof u!="object"||u===null)return new _n("Invalid execution result: result is an unknown format",o,await o.text(),s);const{data:l,errors:d,extensions:f}=u;if(d!==void 0){if(!xe(d)&&!Array.isArray(d))return{data:void 0,error:new ae([{message:"Errors is an unknown format"}]),extensions:f,context:{...s,response:o}};if(d!=null&&d.length>0)return{data:void 0,error:new ae([...d]),extensions:f,context:{...s,response:o}}}return l===void 0||!xe(l)?{data:void 0,error:new ae([{message:"No data returned by GraphQL"}]),extensions:f,context:{...s,response:o}}:f!==void 0&&!xe(f)?{data:void 0,error:new ae([{message:"extensions is an unknown format"}]),extensions:f,context:{...s,response:o}}:{data:l,extensions:f,context:{...s,response:o}}}catch(l){return l}}const xe=o=>typeof o=="object"&&o!==null&&!Array.isArray(o);function Yn({fetch:o,middleware:s}){return new Zn(o,s)}class Zn{constructor(s,u){St(this,"fetch");this.middleware=u,typeof s=="function"?this.fetch=s:this.fetch=zn(s)}query(s,{variables:u}={}){return(async()=>{try{return await this.run(s,{variables:u})}finally{}})()}async run(s,{variables:u}={}){const l=await this.fetch({document:s,variables:u??{}},this.middleware);if(l instanceof Me)throw l;const{data:d,error:f}=l;return d?{data:d}:{error:f}}}const ea=It(403),ta=It(401);function ra(o,s,u){if(!(u&&o instanceof Error&&u(o))&&o instanceof Me){const l=yn(o.response,o.responseText);if(l instanceof bn){const d=En(l);return s(d,l.reason),l}}}const na=o=>{if(o instanceof Dt){const s=o==null?void 0:o.response.status,u=o==null?void 0:o.responseText;return s===ea&&u!=="CSRF"||s===ta&&u.includes("[TFA]")}return!1};function aa(o,s){let u;if(o instanceof Dt)u=o.context;else{if(o instanceof Error)return;u=o.context}if(!u)return;const{request:l,stats:d,response:f}=u,h=!(o instanceof Error)&&typeof o.data=="object",_=h?o.extensions:void 0,b=o!=null&&!(o instanceof Error)&&o.error&&o.error instanceof ae?o.error.errors.map(({message:N,path:P,extensions:x})=>({message:N,path:P&&Array.isArray(P)?P.join(","):void 0,extensions:x})):void 0,E=f instanceof Response&&f.headers.get(Nt.RequestId)||void 0,O=f instanceof Response&&f.headers.get(Nt.Profile)||void 0,T=f instanceof Response?f.status:void 0,w=f instanceof Response?f.url:void 0;s({cacheHit:!1,graphQLClientType:"GraphQL-Lite",name:l.operationName??"Unknown",url:w,status:T,success:h,errorResponse:o!=null&&o instanceof Error&&o,errors:b,requestId:E,duration:d.duration,start:d.start,end:d.end,resultLength:h?JSON.stringify(o).length:void 0,extensions:_,request:{query:l.document,variables:l.variables},profileUrl:O})}const oa=U(({serverData:o,unified:s,errorLogger:u,performance:l})=>{const d=o.isUnifiedApp,f=Sn({apiEndpointPath:d?`/api/shopify/${s.storeHandle}`:"/admin/internal/web/graphql/core",host:location.hostname,csrfToken:o.csrfToken,getRedirectUrl(b){var E;if(d){const O=new URLSearchParams,T=(E=o==null?void 0:o.identityUser)==null?void 0:E.email;return T&&O.append("login_hint",T),O.append("returnPath",location.pathname),O.append("errorHint","client_api_error"),`/login?${O.toString()}`}return typeof b=="string"?b:b(encodeURIComponent(location.href))},errorLogger:u,performance:l}),h=wn({csrfToken:o.csrfToken});return Yn({fetch:{uri:`https://${f.host}${f.apiEndpointPath}`,headers:h},middleware:{response:b=>{aa(b,f.onOperation),ra(b,f.onRedirect,na)}}})}),ia=U(()=>{const o=j(0),s=j(0),u=Y(()=>o.value>0),l=Y(()=>{const h=o.value+s.value,_=h-o.value;return h&&_/h});let d;function f(){clearTimeout(d),o.value=0,s.value=0}return{get loading(){return u.value},get progress(){return l.value},start(){clearTimeout(d),o.value++},stop(){const h=o.value-1;h<0||(s.value++,o.value=h,h===0&&(d=setTimeout(f,100)))},reset:f}}),sa=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"AnalyticsToken"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"analyticsToken"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":56,"source":{"body":"query AnalyticsToken{shop{id analyticsToken __typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"6212c8e3c69b8ffe246a7a777b457c4bcd4f0c3443fe9fbef971a66c64635d88"}'),ua=U(({ensure:o})=>{let s,u;const l=()=>s??u??(u=d());async function d(){const{requestDetails:_,graphqlLite:b}=await o(["requestDetails","graphqlLite"]),{ReportifyClient:E}=await G(()=>import("../render-common-9Z0Z-VGGXuVn.js").then(O=>O.ry),__vite__mapDeps([0,1,2,3,4,5]));return s=new E({source:"new-admin",token:_.shop.analyticsToken??void 0,hostName:_.shop.analyticsHost,requestMetadata:{path:location.pathname},refetchToken:async()=>{const{data:O}=await b.query(sa);return O.shop.analyticsToken}}),s}const f=_=>async(...E)=>(await l())[_](...E);return{query:f("query"),fetchCSV:f("fetchCSV"),exportQueryURL:f("exportQueryURL"),subscribeToQueryStatusEvents:f("subscribeToQueryStatusEvents"),unsubscribeFromQueryStatusEvents:f("unsubscribeFromQueryStatusEvents")}}),ca=U(()=>{const o=j([]),s=j(!1);function u(l,d){const f={...l};for(const h in d)d[h]&&(f[h]=d[h]);return f}return{add(l){const d=o.value.slice(),f=d.findIndex(h=>h.id===l.id);f>=0?d[f]={...d[f],...l}:d.push(l),o.value=d},update(l,d){o.value=o.value.map(f=>(f.id===l&&(f.status=u(f.status,d)),f))},remove(l){o.value=o.value.filter(d=>!l(d))},removeById(l){o.value=o.value.filter(d=>d.id!==l)},get items(){return o.value},expand(){s.value=!1},collapse(){s.value=!0},get isCollapsed(){return s.value}}});var ke={exports:{}},Pt;function la(){return Pt||(Pt=1,function(o,s){(function(u){o.exports=u()})(function(){var u=["navigation","request","process","log","user","state","error","manual"],l=function(e,t,n){for(var r=n,a=0,i=e.length;a<i;a++)r=t(r,e[a],a,e);return r},d=function(e,t){return l(e,function(n,r,a,i){return t(r,a,i)?n.concat(r):n},[])},f=function(e,t){return l(e,function(n,r,a,i){return n===!0||r===t},!1)},h=function(e){return Object.prototype.toString.call(e)==="[object Array]"},_=!{toString:null}.propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],E=function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);if(!_)return t;for(var r=0,a=b.length;r<a;r++)Object.prototype.hasOwnProperty.call(e,b[r])&&t.push(b[r]);return t},O=function(e,t){return e===void 0&&(e=1),t===void 0&&(t=1/0),function(n){return typeof n=="number"&&parseInt(""+n,10)===n&&n>=e&&n<=t}},T=function(e){return typeof e=="function"||h(e)&&d(e,function(t){return typeof t=="function"}).length===e.length},w=function(e){return typeof e=="string"&&!!e.length},N={},P=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};N.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:w},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||w(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||w(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return P()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var t=E(e),n=E(P());return!(d(t,function(r){return f(n,r)}).length<t.length||d(E(e),function(r){return typeof e[r]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:T},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:T},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:T},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&w(e.notify)&&w(e.sessions)&&d(E(e),function(t){return!f(["notify","sessions"],t)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||h(e)&&d(e,function(t){return typeof t=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return O(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return u},message:"should be null or a list of available breadcrumb types ("+u.join(",")+")",validate:function(e){return e===null||h(e)&&l(e,function(t,n){return t===!1?t:f(u,n)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&l(E(e),function(t,n){return t&&f(["id","email","name"],n)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&l(["debug","info","warn","error"],function(t,n){return t&&typeof e[n]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return h(e)&&e.length===d(e,function(t){return typeof t=="string"||t&&typeof t.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return h(e)&&e.length===d(e,function(t){return t&&typeof t=="object"&&typeof t.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return h(e)&&e.length===d(e,function(t){return t&&typeof t=="object"&&typeof t.name=="string"}).length}}};var x=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F=function(e,t){return l(e,function(n,r,a,i){return n.concat(t(r,a,i))},[])};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var ge=N.schema,Kt={releaseStage:x({},ge.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:he({},ge.appType,{defaultValue:function(){return"browser"}}),logger:x({},ge.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?Qt():void 0}})},Qt=function(){var e={},t=console.log;return F(["debug","info","warn","error"],function(n){var r=console[n];e[n]=typeof r=="function"?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},Jt=function(){function e(n,r,a,i){i===void 0&&(i=new Date),this.type=a,this.message=n,this.metadata=r,this.timestamp=i}var t=e.prototype;return t.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),ve=Jt,oe={};(function(e,t){typeof oe=="object"?oe=t():e.StackFrame=t()})(this,function(){function e(v){return!isNaN(parseFloat(v))&&isFinite(v)}function t(v){return v.charAt(0).toUpperCase()+v.substring(1)}function n(v){return function(){return this[v]}}var r=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],i=["fileName","functionName","source"],c=["args"],g=r.concat(a,i,c);function p(v){if(v instanceof Object)for(var C=0;C<g.length;C++)v.hasOwnProperty(g[C])&&v[g[C]]!==void 0&&this["set"+t(g[C])](v[g[C]])}p.prototype={getArgs:function(){return this.args},setArgs:function(v){if(Object.prototype.toString.call(v)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=v},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(v){if(v instanceof p)this.evalOrigin=v;else if(v instanceof Object)this.evalOrigin=new p(v);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var v=this.getFunctionName()||"{anonymous}",C="("+(this.getArgs()||[]).join(",")+")",A=this.getFileName()?"@"+this.getFileName():"",k=e(this.getLineNumber())?":"+this.getLineNumber():"",R=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return v+C+A+k+R}};for(var y=0;y<r.length;y++)p.prototype["get"+t(r[y])]=n(r[y]),p.prototype["set"+t(r[y])]=function(v){return function(C){this[v]=!!C}}(r[y]);for(var m=0;m<a.length;m++)p.prototype["get"+t(a[m])]=n(a[m]),p.prototype["set"+t(a[m])]=function(v){return function(C){if(!e(C))throw new TypeError(v+" must be a Number");this[v]=Number(C)}}(a[m]);for(var S=0;S<i.length;S++)p.prototype["get"+t(i[S])]=n(i[S]),p.prototype["set"+t(i[S])]=function(v){return function(C){this[v]=String(C)}}(i[S]);return p});var me={};(function(e,t){typeof me=="object"?me=t(oe):e.ErrorStackParser=t(e.StackFrame)})(this,function(t){var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/;return{parse:function(c){if(typeof c.stacktrace<"u"||typeof c["opera#sourceloc"]<"u")return this.parseOpera(c);if(c.stack&&c.stack.match(r))return this.parseV8OrIE(c);if(c.stack)return this.parseFFOrSafari(c);throw new Error("Cannot parse given Error object")},extractLocation:function(c){if(c.indexOf(":")===-1)return[c];var g=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,p=g.exec(c.replace(/[\(\)]/g,""));return[p[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(c){var g=c.stack.split(`
`).filter(function(p){return!!p.match(r)},this);return g.map(function(p){p.indexOf("(eval ")>-1&&(p=p.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var y=p.replace(/^\s+/,"").replace(/\(eval code/g,"("),m=y.match(/ (\((.+):(\d+):(\d+)\)$)/);y=m?y.replace(m[0],""):y;var S=y.split(/\s+/).slice(1),v=this.extractLocation(m?m[1]:S.pop()),C=S.join(" ")||void 0,A=["eval","<anonymous>"].indexOf(v[0])>-1?void 0:v[0];return new t({functionName:C,fileName:A,lineNumber:v[1],columnNumber:v[2],source:p})},this)},parseFFOrSafari:function(c){var g=c.stack.split(`
`).filter(function(p){return!p.match(a)},this);return g.map(function(p){if(p.indexOf(" > eval")>-1&&(p=p.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),p.indexOf("@")===-1&&p.indexOf(":")===-1)return new t({functionName:p});var y=/((.*".+"[^@]*)?[^@]*)(?:@)/,m=p.match(y),S=m&&m[1]?m[1]:void 0,v=this.extractLocation(p.replace(y,""));return new t({functionName:S,fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:p})},this)},parseOpera:function(c){return!c.stacktrace||c.message.indexOf(`
`)>-1&&c.message.split(`
`).length>c.stacktrace.split(`
`).length?this.parseOpera9(c):c.stack?this.parseOpera11(c):this.parseOpera10(c)},parseOpera9:function(c){for(var g=/Line (\d+).*script (?:in )?(\S+)/i,p=c.message.split(`
`),y=[],m=2,S=p.length;m<S;m+=2){var v=g.exec(p[m]);v&&y.push(new t({fileName:v[2],lineNumber:v[1],source:p[m]}))}return y},parseOpera10:function(c){for(var g=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,p=c.stacktrace.split(`
`),y=[],m=0,S=p.length;m<S;m+=2){var v=g.exec(p[m]);v&&y.push(new t({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:p[m]}))}return y},parseOpera11:function(c){var g=c.stack.split(`
`).filter(function(p){return!!p.match(n)&&!p.match(/^Error created at/)},this);return g.map(function(p){var y=p.split("@"),m=this.extractLocation(y.pop()),S=y.shift()||"",v=S.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,C;S.match(/\(([^\)]*)\)/)&&(C=S.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var A=C===void 0||C==="[arguments not available]"?void 0:C.split(",");return new t({functionName:v,args:A,fileName:m[0],lineNumber:m[1],columnNumber:m[2],source:p})},this)}}});var Fe=me,ie=function(e,t,n,r){var a=r&&r.redactedKeys?r.redactedKeys:[],i=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(ar(e,a,i),t,n)},zt=20,Xt=25e3,Wt=8,se="...";function Yt(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function je(e){return"[Throws: "+(e?e.message:"?")+"]"}function Zt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function er(e,t){for(var n=0,r=e.length;n<r;n++)if(t.indexOf(e[n])===0)return!0;return!1}function tr(e,t){for(var n=0,r=e.length;n<r;n++)if(typeof e[n]=="string"&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&typeof e[n].test=="function"&&e[n].test(t))return!0;return!1}function rr(e){return Object.prototype.toString.call(e)==="[object Array]"}function nr(e,t){try{return e[t]}catch(n){return je(n)}}function ar(e,t,n){var r=[],a=0;function i(c,g){function p(){return g.length>Wt&&a>Xt}if(a++,g.length>zt||p())return se;if(c===null||typeof c!="object")return c;if(Zt(r,c))return"[Circular]";if(r.push(c),typeof c.toJSON=="function")try{a--;var y=i(c.toJSON(),g);return r.pop(),y}catch(L){return je(L)}var m=Yt(c);if(m){a--;var S=i({name:c.name,message:c.message},g);return r.pop(),S}if(rr(c)){for(var v=[],C=0,A=c.length;C<A;C++){if(p()){v.push(se);break}v.push(i(c[C],g.concat("[]")))}return r.pop(),v}var k={};try{for(var R in c)if(Object.prototype.hasOwnProperty.call(c,R)){if(er(n,g.join("."))&&tr(t,R)){k[R]="[REDACTED]";continue}if(p()){k[R]=se;break}k[R]=i(nr(c,R),g.concat(R))}}catch{}return r.pop(),k}return i(e,[])}function Ue(e,t,n,r){if(typeof n=="string"){r===void 0?r=null:r!==null&&typeof r!="string"&&(r=ie(r));var a=t[n];if(typeof a=="number"){e[a]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}function or(e,t,n){if(h(t)){for(var r=0;r<t.length;++r){var a=t[r];a===null||typeof a!="object"||Ue(e,n,a.name,a.variant)}return e}}function ir(e){return F(d(e,Boolean),function(t){var n=t.name,r=t.variant,a={featureFlag:n};return typeof r=="string"&&(a.variant=r),a})}function sr(e,t,n){var r=t[n];typeof r=="number"&&(e[r]=null,delete t[n])}var K={add:Ue,clear:sr,merge:or,toEventApi:ir},ue=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},ur=cr;function cr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var ce=ur,lr=function(e,t,n,r){var a;if(t){var i;if(n===null)return He(e,t);typeof n=="object"&&(i=n),typeof n=="string"&&(i=(a={},a[n]=r,a)),i&&(t==="__proto__"||t==="constructor"||t==="prototype"||(e[t]||(e[t]={}),e[t]=x({},e[t],i)))}},fr=function(e,t,n){if(typeof t=="string"){if(!n)return e[t];if(e[t])return e[t][n]}},He=function(e,t,n){if(typeof t=="string"){if(!n){delete e[t];return}t==="__proto__"||t==="constructor"||t==="prototype"||e[t]&&delete e[t][n]}},J={add:lr,get:fr,clear:He},_e={};(function(e,t){typeof _e=="object"?_e=t(oe):e.StackGenerator=t(e.StackFrame)})(this,function(e){return{backtrace:function(n){var r=[],a=10;typeof n=="object"&&typeof n.maxStackSize=="number"&&(a=n.maxStackSize);for(var i=arguments.callee;i&&r.length<a&&i.arguments;){for(var c=new Array(i.arguments.length),g=0;g<c.length;++g)c[g]=i.arguments[g];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:c})):r.push(new e({args:c}));try{i=i.caller}catch{break}}return r}}});var H=function(){function e(n,r,a,i,c){a===void 0&&(a=[]),i===void 0&&(i=hr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=c,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[Ge(n,r,e.__type,a)]}var t=e.prototype;return t.addMetadata=function(r,a,i){return J.add(this._metadata,r,a,i)},t.getMetadata=function(r,a){return J.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return J.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),K.add(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){K.merge(this._features,r,this._featuresIndex)},t.getFeatureFlags=function(){return K.toEventApi(this._features)},t.clearFeatureFlag=function(r){K.clear(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t.toJSON=function(){return{payloadVersion:"4",exceptions:F(this.errors,function(r){return x({},r,{message:r.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},e}(),dr=function(e){var t={file:e.fileName,method:pr(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},pr=function(e){return/^global code$/i.test(e)?"global code":e},hr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},Ve=function(e){return typeof e=="string"?e:""};function Ge(e,t,n,r){return{errorClass:Ve(e),errorMessage:Ve(t),type:n,stacktrace:l(r,function(a,i){var c=dr(i);try{return JSON.stringify(c)==="{}"?a:a.concat(c)}catch{return a}},[])}}function Ke(e){return e.cause?[e].concat(Ke(e.cause)):[e]}H.getStacktrace=function(e,t,n){if(ue(e))return Fe.parse(e).slice(t);try{return d(_e.backtrace(),function(r){return(r.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+n)}catch{return[]}},H.create=function(e,t,n,r,a,i){a===void 0&&(a=0);var c=Je(e,t,r,i),g=c[0],p=c[1],y;try{var m=H.getStacktrace(g,p>0?1+p+a:0,1+a);y=new H(g.name,g.message,m,n,e)}catch{y=new H(g.name,g.message,[],n,e)}if(g.name==="InvalidError"&&y.addMetadata(""+r,"non-error parameter",Qe(e)),g.cause){var S,v=Ke(g).slice(1),C=F(v,function(A){var k=ce(A)&&ue(A)?Fe.parse(A):[],R=Je(A,!0,"error cause"),L=R[0];return L.name==="InvalidError"&&y.addMetadata("error cause",Qe(A)),Ge(L.name,L.message,H.__type,k)});(S=y.errors).push.apply(S,C)}return y};var Qe=function(e){return e===null?"null":e===void 0?"undefined":e},Je=function(e,t,n,r){var a,i=0,c=function(g){var p=n==="error cause"?"was":"received";r&&r.warn(n+" "+p+' a non-error: "'+g+'"');var y=new Error(n+" "+p+' a non-error. See "'+n+'" tab for more detail.');return y.name="InvalidError",y};if(!t)ce(e)?a=e:(a=c(typeof e),i+=2);else switch(typeof e){case"string":case"number":case"boolean":a=new Error(String(e)),i+=1;break;case"function":a=c("function"),i+=2;break;case"object":e!==null&&ce(e)?a=e:e!==null&&gr(e)?(a=new Error(e.message||e.errorMessage),a.name=e.name||e.errorClass,i+=1):(a=c(e===null?"null":"unsupported object"),i+=2);break;default:a=c("nothing"),i+=2}if(!ue(a))try{throw a}catch(g){ue(g)&&(a=g,i=1)}return[a,i]};H.__type="browserjs";var gr=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},ye=H,vr=function(e,t,n){var r=0,a=function(){if(r>=e.length)return n(null,!0);t(e[r],function(i,c){if(i)return n(i);if(c===!1)return n(null,!1);r++,a()})};a()},mr=function(e,t,n,r){var a=function(i,c){if(typeof i!="function")return c(null);try{if(i.length!==2){var g=i(t);return g&&typeof g.then=="function"?g.then(function(p){return setTimeout(function(){return c(null,p)})},function(p){setTimeout(function(){return n(p),c(null,!0)})}):c(null,g)}i(t,function(p,y){if(p)return n(p),c(null);c(null,y)})}catch(p){n(p),c(null)}};vr(e,a,r)},ze=function(e,t,n,r){for(var a=!1,i=e.slice();!a&&i.length;)try{a=i.pop()(t)===!1}catch(c){r.error("Error occurred in "+n+" callback, continuing anyway…"),r.error(c)}return a},be=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},Xe=typeof window=="object"?window:self,We=0;for(var _r in Xe)Object.hasOwnProperty.call(Xe,_r)&&We++;var yr=navigator.mimeTypes?navigator.mimeTypes.length:0,br=be((yr+navigator.userAgent.length).toString(36)+We.toString(36),4),Ye=function(){return br},Z=0,Ee=4,le=36,Ze=Math.pow(le,Ee);function et(){return be((Math.random()*Ze<<0).toString(le),Ee)}function Er(){return Z=Z<Ze?Z:0,Z++,Z-1}function tt(){var e="c",t=new Date().getTime().toString(le),n=be(Er().toString(le),Ee),r=Ye(),a=et()+et();return e+t+n+r+a}tt.fingerprint=Ye;var Sr=tt,wr=function(){function e(){this.id=Sr(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(r){this[r._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),Se=wr,Rr=K.add,Or=K.clear,we=K.merge,V=function(){},Nr=function(){function e(n,r,a,i){var c=this;r===void 0&&(r=N.schema),a===void 0&&(a=[]),this._notifier=i,this._config={},this._schema=r,this._delivery={sendSession:V,sendEvent:V},this._logger={debug:V,info:V,warn:V,error:V},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=ye,this.Breadcrumb=ve,this.Session=Se,this._config=this._configure(n,a),F(a.concat(this._config.plugins),function(y){y&&c._loadPlugin(y)}),this._depth=1;var g=this,p=this.notify;this.notify=function(){return p.apply(g,arguments)}}var t=e.prototype;return t.addMetadata=function(r,a,i){return J.add(this._metadata,r,a,i)},t.getMetadata=function(r,a){return J.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return J.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),Rr(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){we(this._features,r,this._featuresIndex)},t.clearFeatureFlag=function(r){Or(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getContext=function(){return this._context},t.setContext=function(r){this._context=r},t._configure=function(r,a){var i=l(a,function(y,m){return m&&m.configSchema?x({},y,m.configSchema):y},this._schema),c=l(E(i),function(y,m){var S=i[m].defaultValue(r[m]);if(r[m]!==void 0){var v=i[m].validate(r[m]);v?i[m].allowPartialObject?y.config[m]=x(S,r[m]):y.config[m]=r[m]:(y.errors[m]=i[m].message,y.config[m]=S)}else y.config[m]=S;return y},{errors:{},config:{}}),g=c.errors,p=c.config;if(i.apiKey){if(!p.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(p.apiKey)||(g.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=x({},p.metadata),we(this._features,p.featureFlags,this._featuresIndex),this._user=x({},p.user),this._context=p.context,p.logger&&(this._logger=p.logger),p.onError&&(this._cbs.e=this._cbs.e.concat(p.onError)),p.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(p.onBreadcrumb)),p.onSession&&(this._cbs.s=this._cbs.s.concat(p.onSession)),E(g).length&&this._logger.warn(Cr(g,r)),p},t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t._loadPlugin=function(r){var a=r.load(this);return r.name&&(this._plugins["~"+r.name+"~"]=a),this},t.getPlugin=function(r){return this._plugins["~"+r+"~"]},t._setDelivery=function(r){this._delivery=r(this)},t.startSession=function(){var r=new Se;r.app.releaseStage=this._config.releaseStage,r.app.version=this._config.appVersion,r.app.type=this._config.appType,r._user=x({},this._user);var a=ze(this._cbs.s,r,"onSession",this._logger);return a?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,r)},t.addOnError=function(r,a){a===void 0&&(a=!1),this._cbs.e[a?"unshift":"push"](r)},t.removeOnError=function(r){this._cbs.e=d(this._cbs.e,function(a){return a!==r})},t._addOnSessionPayload=function(r){this._cbs.sp.push(r)},t.addOnSession=function(r){this._cbs.s.push(r)},t.removeOnSession=function(r){this._cbs.s=d(this._cbs.s,function(a){return a!==r})},t.addOnBreadcrumb=function(r,a){a===void 0&&(a=!1),this._cbs.b[a?"unshift":"push"](r)},t.removeOnBreadcrumb=function(r){this._cbs.b=d(this._cbs.b,function(a){return a!==r})},t.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},t.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},t.leaveBreadcrumb=function(r,a,i){if(r=typeof r=="string"?r:"",i=typeof i=="string"&&f(u,i)?i:"manual",a=typeof a=="object"&&a!==null?a:{},!!r){var c=new ve(r,a,i),g=ze(this._cbs.b,c,"onBreadcrumb",this._logger);if(g){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(c),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},t._isBreadcrumbTypeEnabled=function(r){var a=this._config.enabledBreadcrumbTypes;return a===null||f(a,r)},t.notify=function(r,a,i){i===void 0&&(i=V);var c=ye.create(r,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(c,a,i)},t._notify=function(r,a,i){var c=this;if(i===void 0&&(i=V),r.app=x({},r.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),r.context=r.context||this._context,r._metadata=x({},r._metadata,this._metadata),r._user=x({},r._user,this._user),r.breadcrumbs=this._breadcrumbs.slice(),we(r._features,this._features,r._featuresIndex),this._config.enabledReleaseStages!==null&&!f(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),i(null,r);var g=r.severity,p=function(m){c._logger.error("Error occurred in onError callback, continuing anyway…"),c._logger.error(m)},y=[].concat(this._cbs.e).concat(a);mr(y,r,p,function(m,S){if(m&&p(m),!S)return c._logger.debug("Event not sent due to onError callback"),i(null,r);c._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(c,r.errors[0].errorClass,{errorClass:r.errors[0].errorClass,errorMessage:r.errors[0].errorMessage,severity:r.severity},"error"),g!==r.severity&&(r._handledState.severityReason={type:"userCallbackSetSeverity"}),r.unhandled!==r._handledState.unhandled&&(r._handledState.severityReason.unhandledOverridden=!0,r._handledState.unhandled=r.unhandled),c._session&&(c._session._track(r),r._session=c._session),c._delivery.sendEvent({apiKey:r.apiKey||c._config.apiKey,notifier:c._notifier,events:[r]},function(v){return i(v,r)})})},e}(),Cr=function(e,t){var n=new Error(`Invalid configuration
`+F(E(e),function(r){return"  - "+r+" "+e[r]+", got "+Lr(t[r])}).join(`

`));return n},Lr=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Re=Nr,z={},rt=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];z.event=function(e,t){var n=ie(e,null,null,{redactedPaths:rt,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+n.length/1e6+`MB (limit = 1MB)
metadata was removed`},n=ie(e,null,null,{redactedPaths:rt,redactedKeys:t})),n},z.session=function(e,t){var n=ie(e,null,null);return n};var Oe={};Oe=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});var a=nt(e._config,"notify","4",t),i=z.event(n,e._config.redactedKeys),c=new t.XDomainRequest;c.onload=function(){r(null)},c.onerror=function(){var g=new Error("Event failed to send");e._logger.error("Event failed to send…",g),i.length>1e6&&e._logger.warn("Event oversized ("+(i.length/1e6).toFixed(2)+" MB)"),r(g)},c.open("POST",a),setTimeout(function(){try{c.send(i)}catch(g){e._logger.error(g),r(g)}},0)},sendSession:function(n,r){r===void 0&&(r=function(){});var a=nt(e._config,"sessions","1",t),i=new t.XDomainRequest;i.onload=function(){r(null)},i.open("POST",a),setTimeout(function(){try{i.send(z.session(n,e._config.redactedKeys))}catch(c){e._logger.error(c),r(c)}},0)}}};var nt=function(e,t,n,r){var a=JSON.parse(JSON.stringify(new Date)),i=Tr(e.endpoints[t],r.location.protocol);return i+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(a)},Tr=Oe._matchPageProtocol=function(e,t){return t==="http:"?e.replace(/^https:/,"http:"):e},Ar=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.notify,i=new t.XMLHttpRequest,c=z.event(n,e._config.redactedKeys);i.onreadystatechange=function(){if(i.readyState===t.XMLHttpRequest.DONE){var g=i.status;if(g===0||g>=400){var p=new Error("Request failed with status "+g);e._logger.error("Event failed to send…",p),c.length>1e6&&e._logger.warn("Event oversized ("+(c.length/1e6).toFixed(2)+" MB)"),r(p)}else r(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","4"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),i.send(c)}catch(g){e._logger.error(g)}},sendSession:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.sessions,i=new t.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===t.XMLHttpRequest.DONE){var c=i.status;if(c===0||c>=400){var g=new Error("Request failed with status "+c);e._logger.error("Session failed to send…",g),r(g)}else r(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","1"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),i.send(z.session(n,e._config.redactedKeys))}catch(c){e._logger.error(c)}}}},at=new Date,Pr=function(){at=new Date},xr={name:"appDuration",load:function(e){return e.addOnError(function(t){var n=new Date;t.app.duration=n-at},!0),{reset:Pr}}},kr=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.context===void 0&&(n.context=e.location.pathname)},!0)}}},Ne=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},ot=typeof window=="object"?window:self,it=0;for(var $r in ot)Object.hasOwnProperty.call(ot,$r)&&it++;var Dr=navigator.mimeTypes?navigator.mimeTypes.length:0,Ir=Ne((Dr+navigator.userAgent.length).toString(36)+it.toString(36),4),st=function(){return Ir},ee=0,Ce=4,fe=36,ut=Math.pow(fe,Ce);function ct(){return Ne((Math.random()*ut<<0).toString(fe),Ce)}function Br(){return ee=ee<ut?ee:0,ee++,ee-1}function lt(){var e="c",t=new Date().getTime().toString(fe),n=Ne(Br().toString(fe),Ce),r=st(),a=ct()+ct();return e+t+n+r+a}lt.fingerprint=st;var qr=lt,ft="bugsnag-anonymous-id",Mr=function(e){try{var t=e.localStorage,n=t.getItem(ft);return n&&/^c[a-z0-9]{20,32}$/.test(n)||(n=qr(),t.setItem(ft,n)),n}catch{}},Fr=function(e,t){return e===void 0&&(e=navigator),t===void 0&&(t=window),{load:function(n){var r={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};t&&t.screen&&t.screen.orientation&&t.screen.orientation.type?r.orientation=t.screen.orientation.type:t&&t.document&&(r.orientation=t.document.documentElement.clientWidth>t.document.documentElement.clientHeight?"landscape":"portrait"),n._config.generateAnonymousId&&(r.id=Mr(t)),n.addOnSession(function(a){a.device=x({},a.device,r),n._config.collectUserIp||dt(a)}),n.addOnError(function(a){a.device=x({},a.device,r,{time:new Date}),n._config.collectUserIp||dt(a)},!0)},configSchema:{generateAnonymousId:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},dt=function(e){var t=e.getUser();(!t||!t.id)&&e.setUser(e.device.id)},jr=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.request&&n.request.url||(n.request=x({},n.request,{url:e.location.href}))},!0)}}},Ur={load:function(e){e._sessionDelegate=Hr}},Hr={startSession:function(e,t){var n=e;return n._session=t,n._pausedSession=null,n._config.enabledReleaseStages!==null&&!f(n._config.enabledReleaseStages,n._config.releaseStage)?(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n):(n._delivery.sendSession({notifier:n._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),n)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},Vr={load:function(e){e._config.collectUserIp||e.addOnError(function(t){t._user&&typeof t._user.id>"u"&&delete t._user.id,t._user=x({id:"[REDACTED]"},t._user),t.request=x({clientIp:"[REDACTED]"},t.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},pt={};pt.load=function(e){var t=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);t||!e._isBreadcrumbTypeEnabled("log")||F(Gr,function(n){var r=console[n];console[n]=function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];e.leaveBreadcrumb("Console output",l(i,function(g,p,y){var m="[Unknown value]";try{m=String(p)}catch{}if(m==="[object Object]")try{m=JSON.stringify(p)}catch{}return g["["+y+"]"]=m,g},{severity:n.indexOf("group")===0?"log":n}),"log"),r.apply(console,i)},console[n]._restore=function(){console[n]=r}})};var Gr=d(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),ht=200,gt=5e5,Kr=function(e,t){return e===void 0&&(e=document),t===void 0&&(t=window),{load:function(n){if(!n._config.trackInlineScripts)return;var r=t.location.href,a="",i=!!e.attachEvent,c=i?e.readyState==="complete":e.readyState!=="loading",g=function(){return e.documentElement.outerHTML};a=g();var p=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(a=g(),c=!0);try{p.apply(this,arguments)}catch{}};var y=null,m=function(R){y=R},S=function(){var R=e.currentScript||y;if(!R&&!c){var L=e.scripts||e.getElementsByTagName("script");R=L[L.length-1]}return R},v=function(R){(!c||!a)&&(a=g());var L=["<!-- DOC START -->"].concat(a.split(`
`)),I=R-1,D=Math.max(I-3,0),M=Math.min(I+3,L.length);return l(L.slice(D,M),function(q,te,Pe){return q[D+1+Pe]=te.length<=ht?te:te.substr(0,ht),q},{})};n.addOnError(function(R){R.errors[0].stacktrace=d(R.errors[0].stacktrace,function(q){return!/__trace__$/.test(q.method)});var L=R.errors[0].stacktrace[0],I=function(q){return q.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(L&&L.file&&I(L.file)!==I(r))){var D=S();if(D){var M=D.innerHTML;R.addMetadata("script","content",M.length<=gt?M:M.substr(0,gt)),L&&L.lineNumber&&(L.code=v(L.lineNumber))}}},!0);var C=F(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(R){return Le(t,R,function(L){return k(L,function(I){return{get:function(){return I[0]},replace:function(D){I[0]=D}}})})}),A=C[0];F(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(R){!t[R]||!t[R].prototype||!Object.prototype.hasOwnProperty.call(t[R].prototype,"addEventListener")||(Le(t[R].prototype,"addEventListener",function(L){return k(L,vt)}),Le(t[R].prototype,"removeEventListener",function(L){return k(L,vt,!0)}))});function k(R,L,I){return I===void 0&&(I=!1),function(){var D=[].slice.call(arguments);try{var M=L(D),q=M.get();if(I&&R.apply(this,D),typeof q!="function")return R.apply(this,D);if(q.__trace__)M.replace(q.__trace__);else{var te=S();q.__trace__=function(){m(te),A(function(){m(null)},0);var un=q.apply(this,arguments);return m(null),un},q.__trace__.__trace__=q.__trace__,M.replace(q.__trace__)}}catch{}if(R.apply)return R.apply(this,D);switch(D.length){case 1:return R(D[0]);case 2:return R(D[0],D[1]);default:return R()}}}},configSchema:{trackInlineScripts:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function Le(e,t,n){var r=e[t];if(!r)return r;var a=n(r);return e[t]=a,r}function vt(e){var t=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var Qr=function(e){return e===void 0&&(e=window),{load:function(t){"addEventListener"in e&&t._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(n){var r,a;try{r=zr(n.target),a=mt(n.target,e)}catch{r="[hidden]",a="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:r,targetSelector:a},"user")},!0)}}},Jr=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function zr(e){var t=e.textContent||e.innerText||"";return!t&&(e.type==="submit"||e.type==="button")&&(t=e.value),t=t.replace(Jr,"$1"),t.length>140?t.slice(0,135)+"(...)":t}function mt(e,t){var n=[e.tagName];if(e.id&&n.push("#"+e.id),e.className&&e.className.length&&n.push("."+e.className.split(" ").join(".")),!t.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(t.document.querySelectorAll(n.join("")).length===1)return n.join("")}catch{return n.join("")}if(e.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;n.push(":nth-child("+r+")")}return t.document.querySelectorAll(n.join("")).length===1?n.join(""):e.parentNode?mt(e.parentNode,t)+" > "+n.join(""):n.join("")}var _t={};_t=function(e){e===void 0&&(e=window);var t={load:function(n){if("addEventListener"in e&&n._isBreadcrumbTypeEnabled("navigation")){var r=function(a){return function(){return n.leaveBreadcrumb(a,{},"navigation")}};e.addEventListener("pagehide",r("Page hidden"),!0),e.addEventListener("pageshow",r("Page shown"),!0),e.addEventListener("load",r("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",r("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",r("Navigated back"),!0)}),e.addEventListener("hashchange",function(a){var i=a.oldURL?{from:de(a.oldURL,e),to:de(a.newURL,e),state:bt(e)}:{to:de(e.location.href,e)};n.leaveBreadcrumb("Hash changed",i,"navigation")},!0),e.history.replaceState&&yt(n,e.history,"replaceState",e),e.history.pushState&&yt(n,e.history,"pushState",e)}}};return t};var de=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},Xr=function(e,t,n,r){var a=de(e.location.href,e);return{title:n,state:t,prevState:bt(e),to:r||a,from:a}},yt=function(e,t,n,r){var a=t[n];t[n]=function(i,c,g){e.leaveBreadcrumb("History "+n,Xr(r,i,c,g),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),a.apply(t,[i,c].concat(g!==void 0?g:[]))}},bt=function(e){try{return e.history.state}catch{}},X="request",Wr=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=window);var n={load:function(r){if(!r._isBreadcrumbTypeEnabled("request"))return;var a=[r._config.endpoints.notify,r._config.endpoints.sessions].concat(e);i(),p();function i(){if("addEventListener"in t.XMLHttpRequest.prototype){var S=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(C,A){var k=this,R=!1,L=function(){return g(C,A)},I=function(){return c(C,A,k.status)};R&&(this.removeEventListener("load",I),this.removeEventListener("error",L)),this.addEventListener("load",I),this.addEventListener("error",L),R=!0,S.apply(this,arguments)}}}function c(S,v,C){if(v===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof v=="string"&&f(a,v.replace(/\?.*$/,"")))){var A={status:C,request:S+" "+v};C>=400?r.leaveBreadcrumb("XMLHttpRequest failed",A,X):r.leaveBreadcrumb("XMLHttpRequest succeeded",A,X)}}function g(S,v){if(v===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof v=="string"&&f(a,v.replace(/\?.*$/,""))||r.leaveBreadcrumb("XMLHttpRequest error",{request:S+" "+v},X)}function p(){if(!(!("fetch"in t)||t.fetch.polyfill)){var S=t.fetch;t.fetch=function(){var C=arguments,A=arguments[0],k=arguments[1],R,L=null;return A&&typeof A=="object"?(L=A.url,k&&"method"in k?R=k.method:A&&"method"in A&&(R=A.method)):(L=A,k&&"method"in k&&(R=k.method)),R===void 0&&(R="GET"),new Promise(function(I,D){S.apply(void 0,C).then(function(M){y(M,R,L),I(M)}).catch(function(M){m(R,L),D(M)})})}}}var y=function(S,v,C){var A={status:S.status,request:v+" "+C};S.status>=400?r.leaveBreadcrumb("fetch() failed",A,X):r.leaveBreadcrumb("fetch() succeeded",A,X)},m=function(S,v){r.leaveBreadcrumb("fetch() error",{request:S+" "+v},X)}}};return n},Yr={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return O(1,100)(e)}}}},Te={};Te={load:function(e){e.addOnError(function(t){var n=l(t.errors,function(r,a){return r.concat(a.stacktrace)},[]);F(n,function(r){r.file=Zr(r.file)})})}};var Zr=Te._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},en=function(e,t){return e===void 0&&(e=window),t===void 0&&(t="window onerror"),{load:function(n){if(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledExceptions)return;function r(i,c,g,p,y){if(g===0&&/Script error\.?/.test(i))n._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var m={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},S;if(y)S=n.Event.create(y,!0,m,t,1),Et(S.errors[0].stacktrace,c,g,p);else if(typeof i=="object"&&i!==null&&(!c||typeof c!="string")&&!g&&!p&&!y){var v=i.type?"Event: "+i.type:"Error",C=i.message||i.detail||"";S=n.Event.create({name:v,message:C},!0,m,t,1),S.originalError=i,S.addMetadata(t,{event:i,extraParameters:c})}else S=n.Event.create(i,!0,m,t,1),Et(S.errors[0].stacktrace,c,g,p);n._notify(S)}typeof a=="function"&&a.apply(this,arguments)}var a=e.onerror;e.onerror=r}}},Et=function(e,t,n,r){e[0]||e.push({});var a=e[0];!a.file&&typeof t=="string"&&(a.file=t),!a.lineNumber&&Ae(n)&&(a.lineNumber=n),a.columnNumber||(Ae(r)?a.columnNumber=r:window.event&&Ae(window.event.errorCharacter)&&(a.columnNumber=window.event.errorCharacter))},Ae=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},tn=function(e){e===void 0&&(e=window);var t={load:function(n){if(!(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledRejections)){var r=function(a){var i=a.reason,c=!1;try{a.detail&&a.detail.reason&&(i=a.detail.reason,c=!0)}catch{}var g=n.Event.create(i,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,n._logger);c&&F(g.errors[0].stacktrace,rn(i)),n._notify(g,function(p){if(ce(p.originalError)&&!p.originalError.stack){var y;p.addMetadata("unhandledRejection handler",(y={},y[Object.prototype.toString.call(p.originalError)]={name:p.originalError.name,message:p.originalError.message,code:p.originalError.code},y))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",r):e.onunhandledrejection=function(a,i){r({detail:{reason:a,promise:i}})}}}};return t},rn=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},Q={},nn="Bugsnag JavaScript",an="7.22.7",on="https://github.com/bugsnag/bugsnag-js",sn=x({},N.schema,Kt),B={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var t=[xr,Fr(),kr(),jr(),Yr,Ur,Vr,Te,en(),tn(),_t(),Qr(),Wr(),pt,Kr()],n=new Re(e,sn,t,{name:nn,version:an,url:on});return n._setDelivery(window.XDomainRequest?Oe:Ar),n._logger.debug("Loaded!"),n.leaveBreadcrumb("Bugsnag loaded",{},"state"),n._config.autoTrackSessions?n.startSession():n},start:function(e){return B._client?(B._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),B._client):(B._client=B.createClient(e),B._client)},isStarted:function(){return B._client!=null}};return F(["resetEventCount"].concat(E(Re.prototype)),function(e){/^_/.test(e)||(B[e]=function(){if(!B._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");B._client._depth+=1;var t=B._client[e].apply(B._client,arguments);return B._client._depth-=1,t})}),Q=B,Q.Client=Re,Q.Event=ye,Q.Session=Se,Q.Breadcrumb=ve,Q.default=B,Q})}(ke)),ke.exports}var $e,xt;function fa(){return xt||(xt=1,$e=la()),$e}var da=fa();const pa=Rn(da),ha=/:\/\/(?![^/]*shopify)/,ga=["contains bl.cklisted shop_id","Blocked by AdGuard","Backpressure applied",'Response received: {"status":404'];function va(){return ga.map(o=>new RegExp(`Error producing to the Monorail Edge.+${o}`))}const ma=[/Invalid blocker state transition:/,/Unable to preload CSS for/,/Importing a module script failed/,/Failed to fetch dynamically imported module:/,/error loading dynamically imported module:/],_a=[/Node and callback/,/A valid node is required to create a modal/,/Couldn't find a UiModal container on the current page/,/Query failed: undefined/,/error loading script/,/script error/,/unknown error/,/npobject/,/hui_container/,/netdefender/,/datafastguru/,/tlscdn/,/injectedscript/,/KW__/,/property 'tgt'/,/chrome-extension/,/avast_submit/,/Unhandled promise rejection/,/Admin-Next 500 error/,/^Uncaught undefined/,/Rejection reason was not an Error/,/ResizeObserver loop limit exceeded/,/ResizeObserver loop completed with undelivered notifications/,/Minified React error #(418|423|425)/],Be=[...va(),/Throttled$/,/A network failure may have prevented the request from completing\. Error: TypeError:/,/Network error: cancel/,/connection appears to be offline/,/connection was lost/,/The user aborted a request/,/NetworkError when attempting to fetch resource/,/failed to authenticate/,/Timeout exceeded/,/error loading GraphQL document/,/Failed to fetch/,/Load failed/,/^cancelled$/,/Deferred data aborted/],ya=[/^Throttled$/,/failed to authenticate/,/contains bl.cklisted shop_id value/,/Internal error/,/Cusco/,/^cancelled$/,/Load failed/,/Timeout exceeded/,/Network error:.+JSON/,/Received status code (401|403|423|500|502|503|520)/,/GraphQL fetch failed with status: (401|403|404|423|500|502|503|520)/,/Cannot parse response/,/The request timed out/,/Failed to fetch/,/error loading GraphQL document/,/NetworkError/,/Invariant Violation: 17/],ba=/Required active shop/,Ea={base:Be,browser:[...Be,..._a,...ma]};function Sa(o,s={}){const{pathName:u,errorGroup:l,errorClass:d,stacktrace:f}=s;return ba.test(o)?u===void 0||!u.match(/\/store\/\w+\/access_account/)&&!u.match(/\/admin\/access_account/):(l?Ea[l]:Be).some(_=>_.test(o))||Ra(o,d)||(f?ha.test(f):!1)}const wa=["ApolloError","HttpError","ParseError","FormatError","ExecutionError"];function Ra(o,s){return!s||!wa.includes(s)?!1:ya.some(u=>u.test(o))}function Oa(o){return function(u){const l=u.errors[0],d=l.stacktrace.map(f=>`${f.file} ${f.method}`).join(" ");if(u.context==="/admin/files"&&l.errorMessage.includes("SecurityError")||Sa(l.errorMessage,{pathName:window.location.pathname,errorGroup:"browser",errorClass:l.errorClass,stacktrace:d})||window.location.href.match(/\.myshopify\.io/)||l.errorMessage===void 0||l.errorMessage==="undefined"||l.errorClass==="Unauthorized")return!1;if(o(u)===!1)return!1}}function Na(o,s){const u=o.errors[0],{errorMessage:l=""}=u;if(u.errorClass==="ApolloError"||/Error writing result to store for query/.test(l)||/Invariant Violation/.test(l))u.errorClass=`QueryError:${s}`,s!=="shopify-balance"&&(o.groupingHash=u.errorClass);else if(/Schema validation error/.test(l)||/deprecated schema/.test(l))u.errorClass=`MonorailError:${s}`,o.groupingHash=u.errorClass;else if(/Missing translation/.test(l)||/No replacement found/.test(l))u.errorClass=`TranslationError:${s}`,o.groupingHash=l.replace(/ in locale: ([a-zA-Z-]+)/,"");else if(/Minified React error/.test(l)){const d=l.replace(/.*#(\d+).*/,"$1");u.errorClass=`ReactError:${s}:${d}`,o.groupingHash=u.errorClass}else/Loading chunk/.test(l)?(u.errorClass=`ChunkLoadError:JS:${s}`,o.groupingHash="ChunkLoadError:JS"):/Loading CSS chunk/.test(l)&&(u.errorClass=`ChunkLoadError:CSS:${s}`,o.groupingHash="ChunkLoadError:CSS")}const Ca="https://cdn.shopify.com/s/assets",La="webpack:///client/bugsnag",W=qe(),{supported:Ta}=(W==null?void 0:W.browser)??{},{apiKey:Ut,endpoint:kt,appVersion:Aa,releaseStage:De}=(W==null?void 0:W.bugsnag)??{},Pa=Ta?Oa(qa):()=>!1,Ht={apiKey:Ut,endpoints:{notify:kt,sessions:kt},autoTrackSessions:!1,trackInlineScripts:!1,releaseStage:De,appVersion:Aa,enabledBreadcrumbTypes:["error","manual","navigation","user"],enabledReleaseStages:/^(production|canary|performance|staging-([a-z0-9]{4}))$/.test(De)?[De]:[],maxBreadcrumbs:40,onError:Pa};Ht.logger=null;const $=Ut?pa.createClient(Ht):null;if(navigator.connection){const{downlink:o,effectiveType:s,rtt:u,type:l,saveData:d}=navigator.connection;$==null||$.addMetadata("connection",{downlink:o,effectiveType:s,rtt:u,type:l,saveData:d})}const{sessionId:xa,requestDetails:ka,enabledBetas:$a=[]}=qe();Vt({...ka,enabledBetas:$a,sessionId:xa});const Da={leaveBreadcrumb(o,s){$==null||$.leaveBreadcrumb(o,s)},notify(o,s){const u=s||{},l=u.metaData||{};if(u.metaData=l,Ba(o)){const{graphQLErrors:d=[]}=o;l.graphQL=d.reduce((f,h,_)=>(f[_+1]=JSON.stringify(h),f),{})}$==null||$.notify(o,d=>{u.severity&&(d.severity=u.severity),u.metaData&&Object.keys(u.metaData).length!==0&&Object.keys(u.metaData).forEach(f=>{f==="react"?d.addMetadata("react",u.metaData[f]):d.addMetadata("custom",{[f]:u.metaData[f]})})})},updateMetadata(o){Vt(o)},clearMetadata(){$==null||$.clearMetadata("user"),$==null||$.clearMetadata("custom","betas")}},Ia=Da;function Vt(o){const{shop:s,staffMember:u,sessionId:l,enabledBetas:d}=o;let f={shopId:s==null?void 0:s.shopId,shopDomain:s==null?void 0:s.shopDomain,userId:u==null?void 0:u.userId,isShopifyEmployee:s==null?void 0:s.isShopifyEmployee,sessionId:l};Bt()&&(f={...f,userUuid:On()}),$==null||$.addMetadata("user",f),$==null||$.addMetadata("custom","betas",d)}function Ba(o){return!!o&&Array.isArray(o.graphQLErrors)}function qa(o){const s=document.location.pathname.replace(/(^\/|\/$)/g,"").split("/").slice(Bt()?2:1),[u="home",l]=s,d=u==="settings"&&l?l:u;let f;const h=o.errors[0].stacktrace.every(({file:_})=>_.startsWith(Ca)||_.startsWith(La)||_.startsWith("global code")||_.startsWith("undefined")||_.startsWith("[native code]"));s.length<=1?f="index":l?l==="new"?f="new":/^\d+$/.test(l)?f="show":f="unknown":f="unknown",Na(o,d),o.addMetadata("app",{adminAction:f,adminSection:d,adminNext:h})}function Ma(o,s){return s?o.filter((l,d)=>d<s.length&&s[d]):[]}async function $t(o){var u;const{data:s}=await o.query(Nn,{variables:{betaNames:Ct}});return Ma(Ct,(u=s==null?void 0:s.shop)==null?void 0:u.enabledFlags)}const re="admin_react_beta_flag_diagnostics",Fa=U(async({url:o,ensure:s,graphqlLite:u,ensureSync:l,serverData:d,unified:f})=>{const h=!f.storeHandle&&!d.enabledBetas,_=j([]),b=j(h?[]:d.enabledBetas??await $t(u)),E=Y(()=>Array.from(_.value.reduce((w,N)=>(w.has(N)?w.delete(N):w.add(N),w),new Set(b.value)))),O=Y(()=>new Set(E.value)),T=new qt;if(!h){const{requestDetails:w}=await s(["requestDetails"]),{isShopifyEmployee:N}=w.shop;try{(N||Mt(o.hostname))&&T.get(re)&&(_.value=String(T.get(re)).split(",").map(P=>Lt(P)).filter(P=>P))}catch{}}return{async refetch(){b.value=await $t(u)},get overrides(){return _.value},get enabled(){return E.value},get(w){return O.value.has(w)},update(w){b.value=w;const{router:N}=l(["router"]);N.revalidate()},updateOverrides(w){const N=w.map(x=>Lt(x)).filter(x=>x);_.value=N,w.length>0?T.set(re,w.join(","),{path:"/"}):T.remove(re,{path:"/"});const{router:P}=l(["router"]);P.revalidate()},clearOverrides(){_.value=[],T.remove(re,{path:"/"});const{router:w}=l(["router"]);w.revalidate()}}}),ne="admin_react_permission_diagnostics",ja=U(async({url:o,ensure:s,ensureSync:u})=>{const{requestDetails:l}=await s(["requestDetails"]),d=j([]),f=j(l.permissions),h=Y(()=>{const E=Array.from(d.value.reduce((O,T)=>(O.has(T)?O.delete(T):O.add(T),O),new Set(f.value)));return new Cn(E)}),{isShopifyEmployee:_}=l.shop,b=new qt;try{if((_||Mt(o.hostname))&&b.get(ne)){const E=String(b.get(ne)).split(",");d.value=E.filter(O=>h.value.include(O))}}catch{}return{get overrides(){return d.value},get enabled(){return h.value},include(E){return h.value.include(E)},missing(E){return h.value.missing(E)},update(E){f.value=E;const{router:O}=u(["router"]);O.revalidate()},updateOverrides(E){d.value=E,E.length>0?b.set(ne,E.join(","),{path:"/"}):b.remove(ne,{path:"/"});const{router:O}=u(["router"]);O.revalidate()},clearOverrides(){d.value=[],b.remove(ne,{path:"/"});const{router:E}=u(["router"]);E.revalidate()}}}),Ua="en";async function Ha({createRouter:o}){var d,f;const s=Ln(),u=Tn(An(location.pathname)),l=Pn({url:new xn(location.hostname),browser:new kn({userAgent:((d=s==null?void 0:s.browser)==null?void 0:d.userAgent)??navigator.userAgent,supported:((f=s==null?void 0:s.browser)==null?void 0:f.supported)??!0}),locale:s.locale,async i18n({locale:h,errorLogger:_,ensure:b}){const{requestDetails:E}=await b(["requestDetails"]),{currencyCode:O,shopCountryCode:T,ianaTimezone:w}=E.shop;return new $n({fallbackLocale:Ua,locale:h,currency:O,country:T,timezone:w,onError:_.notify})},router:h=>Vn(h,o),serverData:s,errorLogger:Ia,urlDetails:s.urlDetails,performance:Kn,flash:Qn,loading:ia,statusPanel:ca,unified(){return{storeHandle:Dn(location.pathname)}},graphqlLite:oa,async graphql(h){return(await G(()=>import("../app~shared~utilities~admin-context~graphql-BC_6HwQQeEJL.js").then(_=>_.aA),__vite__mapDeps([3,2,1]))).default(h,{initialApolloData:s.initialApolloData})},async atlas(h){return h.ensure(["graphql"]),(await G(()=>import("../app~shared~utilities~admin-context~atlas-D3Dx6oJ67teN.js"),__vite__mapDeps([6,1]))).default(h)},contractManagementGraphql({requestDetails:{shop:h},graphql:_}){const b=Tt(h.shopDomain);return _.subclient({apiEndpointPath:`/api/contractmanagement/${b}/${h.shopId}`})},organizationGraphql({requestDetails:{shop:h},graphql:_}){const b=Tt(h.shopDomain);return _.subclient({apiEndpointPath:`/api/organizations/${b}/${h.shopId}`})},bankingGraphql({serverData:h,unified:_,graphql:b}){const E="Banking",O="/admin/banking/graphql",T="/admin/internal/web/graphql/banking",w=h.isUnifiedApp;let N=T;return b.options.server?N=O:w&&(N=`/api/banking/${_.storeHandle}`),b.subclient({apiEndpointPath:N,name:E,defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(P){return P?[403,404].includes(P.statusCode):!1}})},merchantRiskGraphql({serverData:h,unified:_,graphql:b}){const E="MerchantRisk",O="/admin/profile_assessment/graphql",T="/admin/internal/web/graphql/profile_assessment",w=h.isUnifiedApp;let N=T;return b.options.server?N=O:w&&(N=`/api/profile_assessment/${_.storeHandle}`),b.subclient({apiEndpointPath:N,name:E,defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(P){return P?[403,404].includes(P.statusCode):!1}})},bourgeoisGraphql({serverData:h,unified:_,graphql:b}){const E="Bourgeois",O="/admin/capital/graphql",T="/admin/internal/web/graphql/capital",w=h.isUnifiedApp;let N=T;return b.options.server?N=O:w&&(N=`/api/capital/${_.storeHandle}`),b.subclient({apiEndpointPath:N,name:E,defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(P){return P?[403,404].includes(P.statusCode):!1}})},headlessGraphql({serverData:h,unified:_,graphql:b}){const E="Headless",O="/admin/headless_storefronts/graphql",T="/admin/internal/web/graphql/headless_storefronts",w=h.isUnifiedApp;let N=T;return b.options.server?N=O:w&&(N=`/api/headless_storefronts/${_.storeHandle}`),b.subclient({apiEndpointPath:N,name:E,defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(P){return P?[403,404].includes(P.statusCode):!1}})},flags:Fa,async shop({ensure:h}){const{requestDetails:_}=await h(["requestDetails"]);return _.shop},async shopFeatures({ensure:h}){const{requestDetails:_}=await h(["requestDetails"]);return _.shopFeatures},async requestDetails({serverData:h,unified:_,graphqlLite:b,errorLogger:E}){var T;if(h.requestDetails)return h.requestDetails;if(!_.storeHandle)return{shop:{}};const O=await In(b,u);return(T=E.updateMetadata)==null||T.call(E,O),O},permissions:ja,reportify:ua,async newReportify(h){return(await G(()=>import("../app~shared~utilities~admin-context~newReportify-BWsYVPcXpJBG.js"),__vite__mapDeps([7,1]))).default(h)},async metrics(h){return(await G(()=>import("../app~shared~utilities~admin-context~metrics-DvWIpQX3wsfj.js").then(_=>_.m),__vite__mapDeps([4,2,1]))).default(h)},monorail:Bn});return await l.ensure(["flags","requestDetails","permissions","performance","router","reportify","metrics","monorail","graphql"]),l}qn.defaults.domain=location.hostname;const pe=Mn();let Ie;pe.status?Gt():Va({createAdminContext:Ha});async function Va({createAdminContext:o}){const s=G(()=>import("../router-DIypPVuzfSk0.js").then(_=>_.bh),__vite__mapDeps([2,1])),u=G(()=>import("../render-common-9Z0Z-VGGXuVn.js").then(_=>_.rA),__vite__mapDeps([0,1,2,3,4,5]));let l,d;const{createRouter:f}=await s;try{d=await o({createRouter:f})}catch(_){l=_}if(l){l&&setTimeout(()=>{throw l}),Gt(l);return}const{createAppRoot:h}=await u;Ie||(Ie=h(document.getElementById("app"))),Ie.render(d,pe==null?void 0:pe.isUnifiedApp)}async function Gt(o){const{createErrorAppRoot:s}=await G(()=>import("../render-common-9Z0Z-VGGXuVn.js").then(u=>u.rA),__vite__mapDeps([0,1,2,3,4,5]));s(document.getElementById("app"),o).render()}
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/pt-BR/main-BSk-idxe.js.map
